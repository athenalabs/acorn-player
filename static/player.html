<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <title>acorn-player</title>
  <link rel="shortcut icon" href="/img/favicon.ico">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <script src="/node_modules/jquery-browser/lib/jquery.js"></script>
  <script src="/node_modules/underscore/underscore.js"></script>
  <script src="/node_modules/backbone/backbone.js"></script>
  <script src="/lib/jquery/jquery.object-fit.js"></script>
  <script src="/node_modules/grunt-jasmine-spec-server/lib/bootstrap/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="/node_modules/grunt-jasmine-spec-server/lib/bootstrap/css/bootstrap.min.css">


  <link rel="stylesheet" href="/static/css/acorn-player.css" />

  <script src="/lib/athena.lib.min.js"></script>
  <script src="/build/acornplayer.min.js"></script>

  <script type="text/javascript">

  var player;

  var showAcorn = function(acornModel) {
    if (player && player.view)
      player.view.destroy();

    player = new acorn.player.Player({acornModel: acornModel});
    player.view.setElement($('.acorn-player'));
    player.view.render();
  };

  var loadAcorn = function() {
    var acornid = $('input#acornid').val().trim();
    console.log('looking up acornid:' + acornid);

    var acornModel = acorn(acornid);
    acornModel.fetch({
      success: function() {
        console.log(acornModel.toJSON());
        showAcorn(acornModel);
      },
      error: function() {
        console.log('error');
      }
    });
  };

  $('input#acornid').blur(loadAcorn);

  $(document).ready(function() {
    loadAcorn();
  });

  </script>


  <style>
  body {
    text-align: center;
  }

  input#acornid {
    margin: 100px;
    text-align: center;
    font-weight: bold;
  }

  .acorn-player {
    width: 100%;
    height: 700px;
    text-align: center;
  }
  </style>

</head>
<body>

<div class="container">
  <div class="span12" id="box">

    <input type="text" id="acornid" placeholder="acornid" value="crbnxowheg" />
    <div class="acorn-player"></div>

  </div>
</div>
</body>
</html>
